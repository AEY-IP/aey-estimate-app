# üíæ –ë—ç–∫–∞–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö AEY_APP3

## üì¶ –ü–æ—Å–ª–µ–¥–Ω–∏–π –±—ç–∫–∞–ø

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 24 —Ñ–µ–≤—Ä–∞–ª—è 2026, 07:25:38  
**–§–∞–π–ª—ã:**
- `backup_20260224_072538.sql` - –ø–æ–ª–Ω—ã–π –¥–∞–º–ø PostgreSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (1.9 MB, 6435 —Å—Ç—Ä–æ–∫)
- `schema_20260224_072553.prisma` - —Å—Ö–µ–º–∞ Prisma –Ω–∞ –º–æ–º–µ–Ω—Ç –±—ç–∫–∞–ø–∞

## üìã –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ –≤ –±—ç–∫–∞–ø

### –¢–∞–±–ª–∏—Ü—ã —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–∞–¥–º–∏–Ω—ã, –º–µ–Ω–µ–¥–∂–µ—Ä—ã, –¥–∏–∑–∞–π–Ω–µ—Ä—ã)
- ‚úÖ `clients` - –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –∫–æ–º–ø–∞–Ω–∏–∏
- ‚úÖ `estimates` - —Å–º–µ—Ç—ã –Ω–∞ –ø—Ä–æ–µ–∫—Ç—ã
- ‚úÖ `acts` - –∞–∫—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç
- ‚úÖ `work_items` - —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ä–∞–±–æ—Ç
- ‚úÖ `templates` - —à–∞–±–ª–æ–Ω—ã —Å–º–µ—Ç
- ‚úÖ `schedule_projects` - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤

### –¢–∞–±–ª–∏—Ü—ã —Å–º–µ—Ç –¥–∏–∑–∞–π–Ω–µ—Ä–∞ (–Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
- ‚úÖ `designer_clients` - –∫–ª–∏–µ–Ω—Ç—ã –¥–∏–∑–∞–π–Ω–µ—Ä–æ–≤
- ‚úÖ `designer_estimates` - —Å–º–µ—Ç—ã –¥–∏–∑–∞–π–Ω–µ—Ä–æ–≤
- ‚úÖ `designer_estimate_blocks` - –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏
- ‚úÖ `designer_estimate_items` - –ø–æ–∑–∏—Ü–∏–∏ —Å–º–µ—Ç —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- ‚úÖ `documents` - –¥–æ–∫—É–º–µ–Ω—Ç—ã
- ‚úÖ `photos` - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
- ‚úÖ `receipts` - –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏
- ‚úÖ `lead_requests` - –∑–∞—è–≤–∫–∏ —Å —Å–∞–π—Ç–∞
- ‚úÖ `design_project_blocks` - –±–ª–æ–∫–∏ –¥–∏–∑–∞–π–Ω-–ø—Ä–æ–µ–∫—Ç–æ–≤

## üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞

### –°–ø–æ—Å–æ–± 1: –ü–æ–ª–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
# 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
source .env

# 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
psql "$DATABASE_URL" < backups/backup_20260224_072538.sql
```

### –°–ø–æ—Å–æ–± 2: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –±–∞–∑—ã

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
createdb new_database_name

# 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
psql new_database_name < backups/backup_20260224_072538.sql

# 3. –û–±–Ω–æ–≤–∏—Ç—å DATABASE_URL –≤ .env
DATABASE_URL="postgresql://user:pass@host:port/new_database_name"
```

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ Railway CLI

```bash
# 1. –í–æ–π—Ç–∏ –≤ Railway
railway login

# 2. –ü—Ä–∏–≤—è–∑–∞—Ç—å—Å—è –∫ –ø—Ä–æ–µ–∫—Ç—É
railway link

# 3. –û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å PostgreSQL
railway connect postgres

# 4. –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å
railway run psql < backups/backup_20260224_072538.sql
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ü–µ–ª–µ–≤–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç–∞ –∏–ª–∏ –≤—ã –≥–æ—Ç–æ–≤—ã –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
   - –°–¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø —Ç–µ–∫—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –µ—Å–ª–∏ –æ–Ω–∏ –≤–∞–∂–Ω—ã
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é PostgreSQL (—Ç–µ–∫—É—â–∞—è: 17)

2. **–ü–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:**
   ```bash
   # –û–±–Ω–æ–≤–∏—Ç—å Prisma Client
   npx prisma generate
   
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
   npx prisma migrate status
   ```

3. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤–µ—Ä—Å–∏–π collation:**
   - –ï—Å–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –≤–µ—Ä—Å–∏–∏ collation, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```sql
   ALTER DATABASE railway REFRESH COLLATION VERSION;
   ```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –±—ç–∫–∞–ø–∞

- **–†–∞–∑–º–µ—Ä:** 1.9 MB
- **–°—Ç—Ä–æ–∫ SQL:** 6,435
- **–¢–∞–±–ª–∏—Ü—ã:** ~30
- **–î–∞—Ç–∞:** 2026-02-24 07:25:38

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚ö†Ô∏è –ë—ç–∫–∞–ø —Å–æ–¥–µ—Ä–∂–∏—Ç —Ö—ç—à–∏ –ø–∞—Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚ö†Ô∏è –ù–µ –∫–æ–º–º–∏—Ç–∏—Ç—å –≤ git (–ø–∞–ø–∫–∞ backups –≤ .gitignore)
- ‚ö†Ô∏è –•—Ä–∞–Ω–∏—Ç—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ

## üóìÔ∏è –ò—Å—Ç–æ—Ä–∏—è –±—ç–∫–∞–ø–æ–≤

–í –ø–∞–ø–∫–µ —Ç–∞–∫–∂–µ –µ—Å—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –±—ç–∫–∞–ø—ã –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ:
- 2025-09-07: 943 KB (JSON)
- 2025-08-24: 883 KB (JSON)
- 2025-07-25: 744 KB (JSON)
- 2025-07-07: 653 KB (JSON)
- 2025-07-06: 613 KB (JSON)
- 2025-06-23: 14 KB (JSON)

## üí° –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –±—ç–∫–∞–ø–æ–≤

–°–æ–∑–¥–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π:

```bash
./scripts/create-backup.sh
```

–ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ cron:
```bash
# –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00
0 3 * * * cd /path/to/AEY_APP3 && ./scripts/create-backup.sh
```

---

**–°–æ–∑–¥–∞–Ω–æ:** Assistant AI  
**–ü—Ä–æ–µ–∫—Ç:** AEY Estimates & CRM System  
**–í–µ—Ä—Å–∏—è:** 1.0 (–ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Å–º–µ—Ç –¥–∏–∑–∞–π–Ω–µ—Ä–∞)
